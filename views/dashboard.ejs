<%- include('partials/header') %>

<div class="dashboard-container">
  <h2>Admin Dashboard</h2>

  <div class="dashboard-section">
    <div class="section-header">
      <h3>Projects</h3>
      <a href="/add-project" class="add-btn">+ Add Project</a>
    </div>

    <% if (projects && projects.length > 0) { %>
      <ul class="item-list">
        <% projects.forEach(project => { %>
          <li class="item-card">
            <span><strong><%= project.title %></strong></span>
            <div class="actions">
              <a href="/edit-project/<%= project.id %>" class="edit-btn">Edit</a>
              <form action="/delete-project/<%= project.id %>" method="POST" onsubmit="return confirmDelete()">
                <button type="submit" class="delete-btn">Delete</button>
              </form>
            </div>
          </li>
        <% }) %>
      </ul>
    <% } else { %>
      <p>No projects yet.</p>
    <% } %>
  </div>

  <div class="dashboard-section">
    <div class="section-header">
      <h3>Skills</h3>
      <a href="/add-skill" class="add-btn">+ Add Skill</a>
    </div>

    <% if (skills && skills.length > 0) { %>
      <ul class="item-list">
        <% skills.forEach(skill => { %>
          <li class="item-card">
            <div>
              <span><strong><%= skill.name %></strong></span>
              <p> <strong>Skill Level : <%= skill.level || "-" %></strong> </p  >
            </div>
            
            <div class="actions">
              <a href="/edit-skill/<%= skill.id %>" class="edit-btn">Edit</a>
              <form action="/delete-skill/<%= skill.id %>" method="POST" onsubmit="return confirmDelete()">
                <button type="submit" class="delete-btn">Delete</button>
              </form>
            </div>
            
          </li>
        <% }) %>
      </ul>
    <% } else { %>
      <p>No skills yet.</p>
    <% } %>
  </div>
</div>
  <script>
  function confirmDelete() {
    return confirm("Are you sure you want to delete this project?");
    // If user clicks "OK", form submits (returns true)
    // If user clicks "Cancel", form submission is cancelled (returns false)
  }
</script>
<%- include('partials/footer') %>
